<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>My Project - ReDoc</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="https://fastapi.tiangolo.com/img/favicon.png">
    <style>
        body {
            margin: 0;
            padding: 0;
        }
    </style>
    <style data-styled="" data-styled-version="4.4.1"></style>
</head>
<body>
    <div id="redoc-container"></div>
    <script src="https://cdn.jsdelivr.net/npm/redoc/bundles/redoc.standalone.js"> </script>
    <script>
        var spec = {"openapi": "3.1.0", "info": {"title": "Diamond API", "description": "This is a REST API to manage and serve diamond price prediction models.\n\nResources are structured in two main hierarchies: models and datasets.\nUsers can create and update datasets using the `/datasets/...` endpoints.\nSimilarly, new models can be trained and queried using the `/models/...`\nendpoints.\n\nTo get started, get the available datasets with `GET /datasets` and\navailable models with `GET /models`. All GETs return paginated results.\n\n> WARNING: these endpoints are a proof of concept and do not provide\nextensive validation of the parameters, mostly due to time constraints.\n", "version": "0.1.0"}, "paths": {"/": {"get": {"summary": "Root", "operationId": "root__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/datasets": {"get": {"summary": "Datasets Get", "description": "Get available dataset ids, paginated.", "operationId": "datasets_get_datasets_get", "parameters": [{"name": "page", "in": "query", "required": true, "schema": {"type": "integer", "title": "Page"}}, {"name": "page_size", "in": "query", "required": true, "schema": {"type": "integer", "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponsePage_Dataset_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/datasets/{dataset_id}": {"put": {"summary": "Dataset Create", "description": "Create or replace an existing dataset.\n\nThe request will always create an empty dataset. Use\n``POST /datasets/{dataset_id}`` to populate it, after being created.", "operationId": "dataset_create_datasets__dataset_id__put", "parameters": [{"name": "dataset_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Dataset Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"summary": "Dataset Update", "description": "Append a batch of data to a given dataset.\n\nThe dataset must exist: create an empty one with\n``PUT /datasets/{dataset_id}`` or retrieve an existing one with\n``GET /datasets``. A batch of data is a list of samples, that is,\nof individual diamonds.", "operationId": "dataset_update_datasets__dataset_id__post", "parameters": [{"name": "dataset_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Dataset Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/DataSample"}, "examples": [[{"carat": 1.1, "cut": "Ideal", "color": "H", "clarity": "SI2", "depth": 62.0, "table": 55.0, "price": 4733.0, "x": 6.61, "y": 6.65, "z": 4.11}, {"carat": 1.29, "cut": "Ideal", "color": "H", "clarity": "SI1", "depth": 62.6, "table": 56.0, "price": 6424.0, "x": 6.96, "y": 6.93, "z": 4.35}]], "title": "Batch"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/dataset/{dataset_id}": {"delete": {"summary": "Dataset Delete", "description": "Delete an existing dataset.", "operationId": "dataset_delete_dataset__dataset_id__delete", "parameters": [{"name": "dataset_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Dataset Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/models": {"get": {"summary": "Models Get", "description": "Get available model ids, paginated.", "operationId": "models_get_models_get", "parameters": [{"name": "page", "in": "query", "required": true, "schema": {"type": "integer", "title": "Page"}}, {"name": "page_size", "in": "query", "required": true, "schema": {"type": "integer", "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponsePage_MLModel_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/models/{model_id}": {"put": {"summary": "Model Train", "description": "Train a model using the given hyperparameters and dataset.", "operationId": "model_train_models__model_id__put", "parameters": [{"name": "model_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Model Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Body_model_train_models__model_id__put"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Model Delete", "description": "Delete an existing model.", "operationId": "model_delete_models__model_id__delete", "parameters": [{"name": "model_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Model Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/models/{model_id}/prices": {"post": {"summary": "Model Create Query", "description": "Create a prediction query for the model.\n\nThe response contains an endpoint which can be used to populate\nthe query. See the documentation of\n``POST /models/{model_id}/prices/{query_id}``.", "operationId": "model_create_query_models__model_id__prices_post", "parameters": [{"name": "model_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Model Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/QueryLocation"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/models/{model_id}/prices/{query_id}": {"delete": {"summary": "Model Delete Query", "description": "Create a prediction query for the model.\n\nThe response contains an endpoint which can be used to populate\nthe query. See the documentation of\n``POST /models/{model_id}/prices/{query_id}``.", "operationId": "model_delete_query_models__model_id__prices__query_id__delete", "parameters": [{"name": "model_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Model Id"}}, {"name": "query_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Query Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"summary": "Model Update Query", "description": "Populate query for the model.\n\nEvery request to this endpoint results in a new batch of data being\nappended to the specified query. Each batch is a list of samples,\nthat is, a list of individual diamonds. When all the data has been\nappended, use ``GET /models{model_id}/prices/{query_id}`` to\nretrieve results.\n\nThe response contains the total number of batches so far in the\nquery.", "operationId": "model_update_query_models__model_id__prices__query_id__post", "parameters": [{"name": "model_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Model Id"}}, {"name": "query_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Query Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/DataSample"}, "examples": [[{"carat": 1.1, "cut": "Ideal", "color": "H", "clarity": "SI2", "depth": 62.0, "table": 55.0, "x": 6.61, "y": 6.65, "z": 4.11}, {"carat": 1.29, "cut": "Ideal", "color": "H", "clarity": "SI1", "depth": 62.6, "table": 56.0, "x": 6.96, "y": 6.93, "z": 4.35}]], "title": "Batch"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/QuerySize"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"summary": "Model Get Results", "description": "Get query results.\n\nRequesting this resource causes the model to predict the entirety\nof the query. The query must be first created through\n``POST /models/{model_id}/prices`` and populated through\n``POST /models/{model_id}/prices/{query_id}``. Query results are\ncached and can must accessed through pagination. After the result\nis computed, it is not possible to populate the query any further.\n\nQueries must be manually disposed via\n``DELETE /models/{model_id}/prices/{query_id}``.", "operationId": "model_get_results_models__model_id__prices__query_id__get", "parameters": [{"name": "model_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Model Id"}}, {"name": "query_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Query Id"}}, {"name": "page", "in": "query", "required": true, "schema": {"type": "integer", "title": "Page"}}, {"name": "page_size", "in": "query", "required": true, "schema": {"type": "integer", "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResponsePage_Prediction_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"Body_model_train_models__model_id__put": {"properties": {"dataset_id": {"type": "string", "title": "Dataset Id"}, "hyperparams": {"anyOf": [{"$ref": "#/components/schemas/Hyperparams"}, {"type": "null"}]}}, "type": "object", "required": ["dataset_id"], "title": "Body_model_train_models__model_id__put"}, "DataSample": {"properties": {"carat": {"type": "number", "title": "Carat"}, "cut": {"type": "string", "title": "Cut"}, "color": {"type": "string", "title": "Color"}, "clarity": {"type": "string", "title": "Clarity"}, "depth": {"type": "number", "title": "Depth"}, "table": {"type": "number", "title": "Table"}, "x": {"type": "number", "title": "X"}, "y": {"type": "number", "title": "Y"}, "z": {"type": "number", "title": "Z"}, "price": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Price"}}, "type": "object", "required": ["carat", "cut", "color", "clarity", "depth", "table", "x", "y", "z"], "title": "DataSample", "description": "A sample representing the properties of a single diamond."}, "Dataset": {"properties": {"id_": {"type": "string", "title": "Id "}}, "type": "object", "required": ["id_"], "title": "Dataset", "description": "Dataset metadata.", "examples": [{"id_": "example_dataset"}]}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "Hyperparams": {"properties": {"selector": {"items": {"type": "string"}, "type": "array", "title": "Selector"}, "linear__regressor__positive": {"type": "boolean", "title": "Linear  Regressor  Positive"}}, "type": "object", "required": ["selector", "linear__regressor__positive"], "title": "Hyperparams", "description": "ML model hyperparameters.\n\nAttribute names are designed to be sklearn-ready.", "examples": [{"linear__regressor__positive": true, "selector": ["carat", "cut", "color", "clarity"]}]}, "MLModel": {"properties": {"id_": {"type": "string", "title": "Id "}}, "type": "object", "required": ["id_"], "title": "MLModel", "description": "Model metadata.", "examples": [{"id_": "example_model"}]}, "Prediction": {"properties": {"price": {"type": "number", "title": "Price"}}, "type": "object", "required": ["price"], "title": "Prediction", "description": "Diamond price prediction.", "examples": [{"price": 2823}]}, "QueryLocation": {"properties": {"location": {"type": "string", "title": "Location"}}, "type": "object", "required": ["location"], "title": "QueryLocation", "description": "Prediction query descriptor.", "examples": [{"location": "/models/example-model/example-query"}]}, "QuerySize": {"properties": {"batch_number": {"type": "integer", "title": "Batch Number"}}, "type": "object", "required": ["batch_number"], "title": "QuerySize", "description": "Number of batches appended to the query so far.", "examples": [{"batch_numer": 3}]}, "ResponsePage_Dataset_": {"properties": {"results": {"items": {"$ref": "#/components/schemas/Dataset"}, "type": "array", "title": "Results"}, "next_page_location": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Next Page Location", "examples": ["/example_endpoint?page=2&page_size=1", null]}, "total_pages": {"type": "integer", "title": "Total Pages", "examples": [10]}}, "type": "object", "required": ["results", "next_page_location", "total_pages"], "title": "ResponsePage[Dataset]"}, "ResponsePage_MLModel_": {"properties": {"results": {"items": {"$ref": "#/components/schemas/MLModel"}, "type": "array", "title": "Results"}, "next_page_location": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Next Page Location", "examples": ["/example_endpoint?page=2&page_size=1", null]}, "total_pages": {"type": "integer", "title": "Total Pages", "examples": [10]}}, "type": "object", "required": ["results", "next_page_location", "total_pages"], "title": "ResponsePage[MLModel]"}, "ResponsePage_Prediction_": {"properties": {"results": {"items": {"$ref": "#/components/schemas/Prediction"}, "type": "array", "title": "Results"}, "next_page_location": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Next Page Location", "examples": ["/example_endpoint?page=2&page_size=1", null]}, "total_pages": {"type": "integer", "title": "Total Pages", "examples": [10]}}, "type": "object", "required": ["results", "next_page_location", "total_pages"], "title": "ResponsePage[Prediction]"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}}};
        Redoc.init(spec, {}, document.getElementById("redoc-container"));
    </script>
</body>
</html>

